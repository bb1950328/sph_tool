(function(){"use strict";var t={67:function(t,e,n){var a=n(9242),o=n(3396),l=n(7139);const i=["value"];function s(t,e,n,s,r,u){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.wy)((0,o._)("select",{onChange:e[0]||(e[0]=t=>u.changeTool(t.target.value)),class:"form-select",id:"nav-select","onUpdate:modelValue":e[1]||(e[1]=t=>r.currentTool=t)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.allTools,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t[0],value:t[0]},(0,l.zw)(t[1]),9,i)))),128))],544),[[a.bM,r.currentTool]]),((0,o.wg)(),(0,o.j4)(o.Ob,null,[((0,o.wg)(),(0,o.j4)((0,o.LL)(r.currentTool),{key:r.currentTool}))],1024))],64)}const r=t=>((0,o.dD)("data-v-861615b0"),t=t(),(0,o.Cn)(),t),u={class:"table table-striped table-bordered table-dark table-sm"},d=r((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Nr"),(0,o._)("th",{scope:"col"},"Bezeichnung"),(0,o._)("th",{scope:"col"},"Koordinaten"),(0,o._)("th",{scope:"col"})])],-1))),c={scope:"row"},p=["onClick"],m=["onClick"],h={class:"modal",tabindex:"-1",role:"dialog",id:"pointEditModal"},b={class:"modal-dialog",role:"document"},f={class:"modal-content"},w={class:"modal-header"},g={class:"modal-title"},_=r((()=>(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[(0,o._)("span",{"aria-hidden":"true",hidden:""},"×")],-1))),v={class:"modal-body"},y=r((()=>(0,o._)("div",{class:"mb-3"},[(0,o._)("label",{for:"modalInputDescription",class:"form-label"},"Beschreibung"),(0,o._)("input",{type:"text",class:"form-control",id:"modalInputDescription"})],-1))),k=r((()=>(0,o._)("label",{for:"modalInputCoordinateGroup",class:"form-label"},"Koordinaten",-1))),C={class:"input-group",id:"modalInputCoordinateGroup"},V={class:"form-control",placeholder:"X",id:"modalInputX"},I=r((()=>(0,o._)("div",{class:"input-group-prepend"},[(0,o._)("span",{class:"input-group-text"},"/")],-1))),P={class:"form-control",placeholder:"Y",id:"modalInputY"},M=r((()=>(0,o._)("div",{class:"input-group-prepend"},[(0,o._)("span",{class:"input-group-text"},"/")],-1))),S={class:"form-control",placeholder:"H",id:"modalInputZ"},x={class:"",role:"group",id:"modalGPSandSwissTopoBtnGroup"},D={class:"modal-footer"};function T(t,e,n,a,i,s){const r=(0,o.up)("font-awesome-icon"),T=(0,o.Q2)("mask");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=t=>s.newPoint())},[(0,o.Wm)(r,{icon:"fa-solid fa-plus"}),(0,o.Uk)(" Neuer Punkt ")]),(0,o._)("table",u,[d,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.allPoints,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("th",c,(0,l.zw)(e),1),(0,o._)("td",null,(0,l.zw)(t.description),1),(0,o._)("td",null,(0,l.zw)(s.formatCoordinates(t.coordinates)),1),(0,o._)("td",null,[(0,o._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm edit-point-button",onClick:t=>s.openModal(e)},[(0,o.Wm)(r,{icon:"fa-solid fa-pen"})],8,p),(0,o._)("button",{type:"button",class:"btn btn-outline-danger btn-sm delete-point-button",onClick:t=>s.removePoint(e)},[(0,o.Wm)(r,{icon:"fa-solid fa-trash-can"})],8,m)])])))),128))])]),(0,o._)("div",h,[(0,o._)("div",b,[(0,o._)("div",f,[(0,o._)("div",w,[(0,o._)("h5",g,"Punkt "+(0,l.zw)(i.currentlyEditingNr)+" bearbeiten",1),_]),(0,o._)("div",v,[(0,o._)("form",null,[y,k,(0,o._)("div",C,[(0,o.wy)((0,o._)("input",V,null,512),[[T,"### ###"]]),I,(0,o.wy)((0,o._)("input",P,null,512),[[T,"### ###"]]),M,(0,o.wy)((0,o._)("input",S,null,512),[[T,"####"]])]),(0,o._)("div",x,[(0,o._)("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:e[1]||(e[1]=t=>s.insertXYfromGPSinModal())},[(0,o.Uk)(" X/Y "),(0,o.Wm)(r,{icon:"fa-solid fa-location-crosshairs"}),(0,o.Uk)(" GPS ")]),(0,o._)("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:e[2]||(e[2]=t=>s.insertHfromGPSinModal())},[(0,o.Uk)(" H "),(0,o.Wm)(r,{icon:"fa-solid fa-location-crosshairs"}),(0,o.Uk)(" GPS ")]),(0,o._)("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:e[3]||(e[3]=t=>s.insertHfromSwissTopoInModal())},[(0,o.Uk)(" H "),(0,o.Wm)(r,{icon:"fa-solid fa-map-location-dot"}),(0,o.Uk)(" SwissTopo ")]),(0,o._)("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:e[4]||(e[4]=t=>s.pasteIntoModal())},[(0,o.Wm)(r,{icon:"fa-solid fa-paste"}),(0,o.Uk)(" Paste ")])])])]),(0,o._)("div",D,[(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=t=>s.saveChangesFromModal())},"Speichern"),(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:e[6]||(e[6]=t=>s.closeModal())},"Abbrechen")])])])])],64)}const z=485e3,E=835e3,U=74e3,Z=296e3,G=(Z+z)/2;function L(t){const e=N(t["x"]),n=N(t["y"]),a=B(t["z"]);return`${e} / ${n} / ${a}`}function N(t){const e=Math.round(t)%1e6,n=e.toString().padStart(6,"0");return n.slice(0,3)+" "+n.slice(3)}function B(t){return Math.round(t).toString()}function O(t){t=Math.round(t);const e=(t%6400+6400)%6400;return t<0?(t=e-6400,`${e}‰ (≙${t}‰)`):`${e}‰`}function W(t,e,n){const a=(t-6e5)/1e6,o=(e-2e5)/1e6,l=2.6779094+4.728982*a+.791484*a*o+.1306*a*Math.pow(o,2)-.0436*Math.pow(a,3),i=16.9023892+3.238272*o-.270978*Math.pow(a,2)-.002528*Math.pow(o,2)-.0447*Math.pow(a,2)*o-.014*Math.pow(o,3),s=n+49.55-12.6*a-22.64*o;return[100*i/36,100*l/36,s]}function A(t,e,n){const a=3600*t,o=3600*e,l=(a-169028.66)/1e4,i=(o-26782.5)/1e4,s=2600072.37+211455.93*i-10938.51*i*l-.36*i*Math.pow(i,2)-44.54*Math.pow(i,3),r=1200147.07+308807.95*l+3745.25*Math.pow(i,2)+76.63*Math.pow(l,2)-194.56*Math.pow(i,2)*l+119.79*Math.pow(l,3),u=s-2e6,d=r-1e6,c=n-49.55+2.73*i+6.94*l;return[u,d,c]}function F(t,e){navigator.geolocation.getCurrentPosition((e=>{const n=null!==e.coords.altitude,a=n?e.coords.altitude:0,[o,l,i]=A(e.coords.latitude,e.coords.longitude,a);t({x:o,y:l,z:n?i:null})}),e,{enableHighAccuracy:!0,maximumAge:1e5})}function $(t,e,n,a){const o=new URLSearchParams({easting:t.toString(),northing:e.toString(),sr:"21781"}),l="https://api3.geo.admin.ch/rest/services/height?"+o;fetch(l).then((t=>t.json())).then((t=>t["height"])).then(n).catch(a)}function j(t){const e=new RegExp(/[12]?[' ]?(\d{3})[' ]?(\d{3})(\.\d+)?/,"g");let n=t;const a={};for(const i of t.matchAll(e)){console.log(i[0]);let t=1e3*parseInt(i[1])+parseInt(i[2]);null!=i[3]&&parseInt(i[3][1])>=5&&t++,U<=t&&t<=G?a["y"]=t:G<=t&&t<=E&&(a["x"]=t),n=n.replace(i[0],"")}const o=new RegExp(/(\d)[' ]?(\d{2,4})(\.\d+)?/),l=o.exec(n);if(null!=l){let t="";for(let e=1;null!=l[e];e++)t+=l[e];a["z"]=Math.round(parseFloat(t))}return a}var H=n(2166),R=n(9414),Y=n(4870);const K=(0,Y.qj)(X());function q(){localStorage.setItem("points",JSON.stringify(K))}function X(){const t=localStorage.getItem("points");return null===t?{1:{description:"Kaserne Chur",coordinates:{x:758603.97,y:190604.61,z:582.2}},2:{description:"Halle 6",coordinates:{x:757100.66,y:190421.8,z:565.1}},3:{description:"Spl 342",coordinates:{x:756828.17,y:191188.9,z:567.8}}}:JSON.parse(t)}(0,o.YP)(K,(()=>q()));var J={name:"PointList",methods:{formatCoordinates:L,newPoint(){let t=this.findNextFreeNumber();this.allPoints[t]={description:"Neuer Punkt",coordinates:{x:0,y:0,z:0}},this.openModal(t)},findNextFreeNumber(){let t=1;while(Object.hasOwn(this.allPoints,t.toString()))++t;return t},removePoint(t){delete this.allPoints[t]},setModalCoordinates:function(t){let e=t["x"],n=t["y"],a=t["z"];e&&(document.getElementById("modalInputX").value=N(e)),n&&(document.getElementById("modalInputY").value=N(n)),a&&(document.getElementById("modalInputZ").value=B(a))},openModal(t){this.currentlyEditingNr=t;let e=this.allPoints[this.currentlyEditingNr];document.getElementById("modalInputDescription").value=e["description"],this.setModalCoordinates(e["coordinates"]),this.modal=new H.u_(document.getElementById("pointEditModal")),this.modal.show()},closeModal(){this.modal.hide(),this.currentlyEditingNr=null},getCoordinatesFromModalInputs:function(){return{x:parseInt(document.getElementById("modalInputX").value.replace(" ","")),y:parseInt(document.getElementById("modalInputY").value.replace(" ","")),z:parseInt(document.getElementById("modalInputZ").value)}},saveChangesFromModal(){let t=this.allPoints[this.currentlyEditingNr];t["description"]=document.getElementById("modalInputDescription").value,t["coordinates"]=this.getCoordinatesFromModalInputs(),this.closeModal()},insertXYfromGPSinModal(){F((t=>{delete t["z"],this.setModalCoordinates(t)}),(t=>console.error(t)))},insertHfromGPSinModal(){F((t=>{delete t["x"],delete t["y"],this.setModalCoordinates(t)}),(t=>console.error(t)))},insertHfromSwissTopoInModal(){let t=this.getCoordinatesFromModalInputs();$(t["x"],t["y"],(t=>this.setModalCoordinates({z:t})),(t=>console.error(t)))},pasteIntoModal(){navigator.clipboard.readText().then(j).then(this.setModalCoordinates)}},data(){return{currentlyEditingNr:null,allPoints:K}},directives:{mask:R.mask}},Q=n(89);const tt=(0,Q.Z)(J,[["render",T],["__scopeId","data-v-861615b0"]]);var et=tt;const nt=t=>((0,o.dD)("data-v-5f6d3b1c"),t=t(),(0,o.Cn)(),t),at={id:"input-values"},ot={class:"mb-3"},lt=nt((()=>(0,o._)("div",{class:"col-3",id:"unknown-group-label"},"Unbekannt",-1))),it={class:"col-9"},st={class:"btn-group",role:"group","aria-label":"Unbekannt",id:"unknown-radio-group"},rt=nt((()=>(0,o._)("label",{class:"btn btn-outline-primary",for:"unknown-direction"},"Richtung",-1))),ut=nt((()=>(0,o._)("label",{class:"btn btn-outline-primary",for:"unknown-target-coordinates"},"ZielKoord",-1))),dt=nt((()=>(0,o._)("label",{class:"btn btn-outline-primary",for:"unknown-observer-coordinates"},"BeoKoord",-1))),ct={key:0,class:"mb-3"},pt=nt((()=>(0,o._)("label",{for:"observer-point-select"},"Beobachterpunkt",-1))),mt={class:"input-group"},ht=["value"],bt={class:"input-group-addon col-6 coordinate-select-display"},ft={key:1,class:"mb-3"},wt=nt((()=>(0,o._)("label",{for:"target-point-select"},"Zielpunkt",-1))),gt={class:"input-group"},_t=["value"],vt={class:"input-group-addon col-6 coordinate-select-display"},yt={class:"mb-3 row"},kt={class:"col-4"},Ct=nt((()=>(0,o._)("label",{for:"input-azimut"},"Azimut",-1))),Vt={class:"col-4"},It=nt((()=>(0,o._)("label",{for:"input-gelwi"},"GelWi",-1))),Pt={class:"col-4"},Mt=nt((()=>(0,o._)("label",{for:"input-distance"},"Distanz visuell",-1))),St={key:2,class:"mb-3"},xt=nt((()=>(0,o._)("h2",null,"Resultat",-1))),Dt={key:0},Tt=nt((()=>(0,o._)("td",null,"Azimut",-1))),zt=nt((()=>(0,o._)("td",null,"Geländewinkel",-1))),Et=nt((()=>(0,o._)("td",null,"Distanz topografisch",-1))),Ut=nt((()=>(0,o._)("td",null,"Distanz visuell",-1))),Zt={key:1},Gt={key:0},Lt={key:1};function Nt(t,e,n,i,s,r){return(0,o.wg)(),(0,o.iD)("form",at,[(0,o._)("div",ot,[lt,(0,o._)("div",it,[(0,o._)("div",st,[(0,o._)("input",{type:"radio",class:"btn-check",name:"unknown-radio",id:"unknown-direction",autocomplete:"off",checked:"",onClick:e[0]||(e[0]=t=>r.unknownValueChangedTo("direction"))}),rt,(0,o._)("input",{type:"radio",class:"btn-check",name:"unknown-radio",id:"unknown-target-coordinates",autocomplete:"off",onClick:e[1]||(e[1]=t=>r.unknownValueChangedTo("target-coordinates"))}),ut,(0,o._)("input",{type:"radio",class:"btn-check",name:"unknown-radio",id:"unknown-observer-coordinates",autocomplete:"off",onClick:e[2]||(e[2]=t=>r.unknownValueChangedTo("observer-coordinates"))}),dt])])]),"observer-coordinates"!==s.currentUnknownValue?((0,o.wg)(),(0,o.iD)("div",ct,[pt,(0,o._)("div",mt,[(0,o.wy)((0,o._)("select",{class:"form-select col-6",id:"observer-point-select","onUpdate:modelValue":e[3]||(e[3]=t=>s.inpObserverPointNr=t)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.allPoints,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e},(0,l.zw)(e)+" "+(0,l.zw)(t["description"]),9,ht)))),128))],512),[[a.bM,s.inpObserverPointNr]]),(0,o._)("div",bt,(0,l.zw)(null!=r.inpObserverPoint?r.formatCoordinates(r.inpObserverPoint):""),1)])])):(0,o.kq)("",!0),"target-coordinates"!==s.currentUnknownValue?((0,o.wg)(),(0,o.iD)("div",ft,[wt,(0,o._)("div",gt,[(0,o.wy)((0,o._)("select",{class:"form-select",id:"target-point-select","onUpdate:modelValue":e[4]||(e[4]=t=>s.inpTargetPointNr=t)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.allPoints,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e},(0,l.zw)(e)+" "+(0,l.zw)(t["description"]),9,_t)))),128))],512),[[a.bM,s.inpTargetPointNr]]),(0,o._)("div",vt,(0,l.zw)(null!=r.inpTargetPoint?r.formatCoordinates(r.inpTargetPoint):""),1)])])):(0,o.kq)("",!0),(0,o.wy)((0,o._)("div",yt,[(0,o._)("div",kt,[Ct,(0,o.wy)((0,o._)("input",{type:"number",id:"input-azimut",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=t=>s.inpAzimut=t)},null,512),[[a.nr,s.inpAzimut]])]),(0,o._)("div",Vt,[It,(0,o.wy)((0,o._)("input",{type:"number",id:"input-gelwi",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=t=>s.inpGelwi=t)},null,512),[[a.nr,s.inpGelwi]])]),(0,o._)("div",Pt,[Mt,(0,o.wy)((0,o._)("input",{type:"number",id:"input-distance",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=t=>s.inpDistanceVisual=t)},null,512),[[a.nr,s.inpDistanceVisual]])])],512),[[a.F8,"direction"!==s.currentUnknownValue]]),s.hasResult?((0,o.wg)(),(0,o.iD)("div",St,[xt,"direction"===s.currentUnknownValue?((0,o.wg)(),(0,o.iD)("div",Dt,[(0,o._)("table",null,[(0,o._)("tr",null,[Tt,(0,o._)("td",null,(0,l.zw)(r.formatArtilleryPromilleValue(s.resultAzimut)),1)]),(0,o._)("tr",null,[zt,(0,o._)("td",null,(0,l.zw)(r.formatArtilleryPromilleValue(s.resultGelwi)),1)]),(0,o._)("tr",null,[Et,(0,o._)("td",null,(0,l.zw)(s.resultDistanceTopo)+"m",1)]),(0,o._)("tr",null,[Ut,(0,o._)("td",null,(0,l.zw)(s.resultDistanceVisual)+"m",1)])])])):(0,o.kq)("",!0),"direction"!==s.currentUnknownValue?((0,o.wg)(),(0,o.iD)("div",Zt,["observer-coordinates"===s.currentUnknownValue?((0,o.wg)(),(0,o.iD)("p",Gt," Beobachterkoordinaten: "+(0,l.zw)(r.formatCoordinates(s.resultObserverCoordinates)),1)):(0,o.kq)("",!0),"target-coordinates"===s.currentUnknownValue?((0,o.wg)(),(0,o.iD)("p",Lt," Zielkoordinaten: "+(0,l.zw)(r.formatCoordinates(s.resultTargetCoordinates)),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])}var Bt={name:"CoordinateCalculations",data(){return{currentUnknownValue:"direction",allPoints:K,inpObserverPointNr:null,inpTargetPointNr:null,inpAzimut:0,inpGelwi:0,inpDistanceVisual:0,hasResult:!1,resultAzimut:0,resultGelwi:0,resultDistanceVisual:0,resultDistanceTopo:0,resultObserverCoordinates:{},resultTargetCoordinates:{}}},methods:{formatArtilleryPromilleValue:O,formatCoordinates:L,unknownValueChangedTo(t){this.currentUnknownValue=t},updateResult(){if(this.hasResult=!1,"direction"===this.currentUnknownValue){if(null==this.inpObserverPoint||null==this.inpTargetPoint)return;let t=this.inpTargetPoint["x"]-this.inpObserverPoint["x"],e=this.inpTargetPoint["y"]-this.inpObserverPoint["y"],n=this.inpTargetPoint["z"]-this.inpObserverPoint["z"];this.resultDistanceTopo=Math.round(Math.sqrt(t*t+e*e)),this.resultDistanceVisual=Math.round(Math.sqrt(t*t+e*e+n*n)),this.resultAzimut=(Math.PI/2-Math.atan2(e,t))/Math.PI*3200,this.resultGelwi=Math.atan(n/this.resultDistanceTopo)/Math.PI*3200}else{let t=Math.round(this.inpGelwi)%6400/3200*Math.PI,e=Math.sin(t)*this.inpDistanceVisual,n=Math.sqrt(this.inpDistanceVisual*this.inpDistanceVisual-e*e),a=Math.round(this.inpAzimut)%6400/3200*Math.PI,o=Math.cos(a)*n,l=Math.sin(a)*n,i="target-coordinates"===this.currentUnknownValue,s=i?this.inpObserverPoint:this.inpTargetPoint;if(null==s)return;let r=i?1:-1,u={x:s["x"]+o*r,y:s["y"]+l*r,z:s["z"]+e*r};i?this.resultTargetCoordinates=u:this.resultObserverCoordinates=u}this.hasResult=!0}},computed:{allInputs(){return[this.currentUnknownValue,this.inpObserverPointNr,this.inpTargetPointNr,this.inpAzimut,this.inpGelwi,this.inpDistanceVisual]},inpObserverPoint(){return null!=this.inpObserverPointNr?K[this.inpObserverPointNr]["coordinates"]:null},inpTargetPoint(){return null!=this.inpTargetPointNr?K[this.inpTargetPointNr]["coordinates"]:null}},watch:{allInputs(){this.updateResult()}}};const Ot=(0,Q.Z)(Bt,[["render",Nt],["__scopeId","data-v-5f6d3b1c"]]);var Wt=Ot;const At=t=>((0,o.dD)("data-v-4c943e2d"),t=t(),(0,o.Cn)(),t),Ft={class:"mb-3 row"},$t={class:"col-9"},jt=At((()=>(0,o._)("label",{for:"distance-range-input",class:"form-label"},"Distanz",-1))),Ht={class:"col-3 double-input-value-container"},Rt=At((()=>(0,o._)("label",{for:"distance-value-input",class:"form-label",hidden:""},"Distanz",-1))),Yt={class:"mb-3 row"},Kt={class:"col-9"},qt=At((()=>(0,o._)("label",{for:"wind-speed-range-input",class:"form-label"},"Windgeschwindigkeit",-1))),Xt={class:"col-3 double-input-value-container"},Jt=At((()=>(0,o._)("label",{for:"wind-speed-value-input",class:"form-label",hidden:""},"Windgeschwindigkeit",-1))),Qt={class:"mb-3 row"},te={class:"col-5"},ee=At((()=>(0,o._)("label",{for:"windDirectionInput",class:"form-label"},"Windrichtung (Uhr)",-1))),ne={class:"col-7"},ae={class:"mb-3"},oe=At((()=>(0,o._)("label",{for:"airPressureInput",class:"form-label"},"Luftdruck",-1))),le={class:"mb-3"},ie=At((()=>(0,o._)("label",{for:"temperatureInput",class:"form-label"},"Temperatur",-1))),se={class:"mb-3"},re=At((()=>(0,o._)("label",{for:"barrelGroup",class:"form-label"},"Lauf",-1))),ue={class:"btn-group",role:"group","aria-label":"Lauf",id:"barrel-group"},de=At((()=>(0,o._)("label",{class:"btn btn-outline-primary",for:"barrel-radio-new"},"Neu",-1))),ce=At((()=>(0,o._)("label",{class:"btn btn-outline-primary",for:"barrel-radio-old"},"Alt",-1))),pe=At((()=>(0,o._)("h2",null,"Resultat",-1))),me={class:"mb-3",id:"clicks-result"},he={class:""},be=At((()=>(0,o._)("td",null,"Distanz",-1))),fe=At((()=>(0,o._)("td",null,"Alter Lauf",-1))),we=At((()=>(0,o._)("td",null,"Luftdruck",-1))),ge=At((()=>(0,o._)("td",null,"Temperatur",-1))),_e={class:"important-row"},ve=At((()=>(0,o._)("td",null,"Höhe",-1))),ye={class:""},ke=At((()=>(0,o._)("td",null,"Wind",-1))),Ce=At((()=>(0,o._)("td",null,"Derivation",-1))),Ve={class:"important-row"},Ie=At((()=>(0,o._)("td",null,"Seite",-1)));function Pe(t,e,n,i,s,r){const u=(0,o.up)("ClockRadioGroup"),d=(0,o.up)("font-awesome-icon"),c=(0,o.up)("ClickTable");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("form",null,[(0,o._)("div",Ft,[(0,o._)("div",$t,[jt,(0,o.wy)((0,o._)("input",{id:"distance-range-input",type:"range",class:"form-range","onUpdate:modelValue":e[0]||(e[0]=t=>s.situation.distance=t),min:"100",max:"1200"},null,512),[[a.nr,s.situation.distance]])]),(0,o._)("div",Ht,[Rt,(0,o.wy)((0,o._)("input",{id:"distance-value-input",type:"number",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>s.situation.distance=t)},null,512),[[a.nr,s.situation.distance]])])]),(0,o._)("div",Yt,[(0,o._)("div",Kt,[qt,(0,o.wy)((0,o._)("input",{id:"wind-speed-range-input",type:"range",class:"form-range","onUpdate:modelValue":e[2]||(e[2]=t=>s.situation.windSpeed=t),min:"0",max:"10"},null,512),[[a.nr,s.situation.windSpeed]])]),(0,o._)("div",Xt,[Jt,(0,o.wy)((0,o._)("input",{id:"wind-speed-value-input",class:"form-control",type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>s.situation.windSpeed=t),min:"0",max:"10"},null,512),[[a.nr,s.situation.windSpeed]])])]),(0,o._)("div",Qt,[(0,o._)("div",te,[ee,(0,o.Wm)(u,{modelValue:s.situation.windClock,"onUpdate:modelValue":e[4]||(e[4]=t=>s.situation.windClock=t)},null,8,["modelValue"])]),(0,o._)("div",ne,[(0,o._)("div",ae,[oe,(0,o.wy)((0,o._)("input",{id:"airPressureInput",type:"number",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=t=>s.situation.airPressure=t)},null,512),[[a.nr,s.situation.airPressure]])]),(0,o._)("div",le,[ie,(0,o.wy)((0,o._)("input",{id:"temperatureInput",type:"number",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=t=>s.situation.temperature=t)},null,512),[[a.nr,s.situation.temperature]])]),(0,o._)("div",se,[re,(0,o._)("div",ue,[(0,o.wy)((0,o._)("input",{type:"radio",class:"btn-check",name:"barrel-radio",id:"barrel-radio-new",autocomplete:"off","onUpdate:modelValue":e[7]||(e[7]=t=>s.situation.oldBarrel=t),value:!1},null,512),[[a.G2,s.situation.oldBarrel]]),de,(0,o.wy)((0,o._)("input",{type:"radio",class:"btn-check",name:"barrel-radio",id:"barrel-radio-old",autocomplete:"off","onUpdate:modelValue":e[8]||(e[8]=t=>s.situation.oldBarrel=t),value:!0},null,512),[[a.G2,s.situation.oldBarrel]]),ce])])])])]),pe,(0,o._)("div",me,[(0,o._)("div",he,[(0,o._)("table",null,[(0,o._)("tr",null,[be,(0,o._)("td",null,(0,l.zw)(r.formatElevationClicks(s.situation.baseElevation)),1)]),(0,o.wy)((0,o._)("tr",null,[fe,(0,o._)("td",null,(0,l.zw)(r.formatElevationClicks(s.situation.oldBarrelElevationCorrection)),1)],512),[[a.F8,0!==s.situation.oldBarrelElevationCorrection]]),(0,o.wy)((0,o._)("tr",null,[we,(0,o._)("td",null,(0,l.zw)(r.formatElevationClicks(s.situation.airPressureElevationCorrection)),1)],512),[[a.F8,0!==s.situation.airPressureElevationCorrection]]),(0,o.wy)((0,o._)("tr",null,[ge,(0,o._)("td",null,(0,l.zw)(r.formatElevationClicks(s.situation.temperatureElevationCorrection)),1)],512),[[a.F8,0!==s.situation.temperatureElevationCorrection]]),(0,o._)("tr",_e,[ve,(0,o._)("td",null,(0,l.zw)(r.formatElevationClicks(s.situation.totalElevation)),1)])])]),(0,o._)("div",ye,[(0,o._)("table",null,[(0,o.wy)((0,o._)("tr",null,[ke,(0,o._)("td",{class:(0,l.C_)(r.windageCssClass(s.situation.baseWindage))},(0,l.zw)(r.formatWindageClicks(s.situation.baseWindage)),3)],512),[[a.F8,s.situation.baseWindage]]),(0,o.wy)((0,o._)("tr",null,[Ce,(0,o._)("td",{class:(0,l.C_)(r.windageCssClass(s.situation.derivationWindageCorrection))},(0,l.zw)(r.formatWindageClicks(s.situation.derivationWindageCorrection)),3)],512),[[a.F8,s.situation.derivationWindageCorrection]]),(0,o._)("tr",Ve,[Ie,(0,o._)("td",{class:(0,l.C_)(r.windageCssClass(s.situation.totalWindage))},(0,l.zw)(r.formatWindageClicks(s.situation.totalWindage)),3)])])])]),(0,o._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[9]||(e[9]=e=>t.$refs.clickTable.openModal(this.situation))},[(0,o.Wm)(d,{icon:"fa-solid fa-table-cells"}),(0,o.Uk)(" Klicktabelle berechnen ")]),(0,o.Wm)(c,{ref:"clickTable"},null,512)],64)}var Me=n(7327);class Se{findClosestValueIndex(t,e){let n=0;while(t[n]<e&&n<t.length-1)++n;const a=t[n-1],o=t[n];return Math.abs(e-a)<Math.abs(e-o)?n-1:n}findIndicesAndFactorForInterpolation(t,e){if(e<=t[0])return[0,0,1];if(e>=t[t.length-1])return[t.length-1,t.length-1,1];{let n=0;while(t[n]<e&&n<t.length-1)++n;const a=t[n-1],o=t[n];return[n-1,n,(o-e)/(o-a)]}}checkNotRagged2D(t){if(t.length>0){const e=t[0].length;for(let n=1;n<t.length;n++)if(t[n].length!=e)throw new Error(`2D array is ragged (starting on row ${n})`)}}}class xe extends Se{constructor(t){super(),(0,Me.Z)(this,"values",void 0),(0,Me.Z)(this,"keys",void 0),(0,Me.Z)(this,"lastIdx",void 0),this.checkNotRagged2D(t),this.keys=t.map((t=>t[0])),this.values=t.map((t=>t[1])),this.lastIdx=t.length-1}getValueLinearInterpolation(t){const[e,n,a]=this.findIndicesAndFactorForInterpolation(this.keys,t);return this.values[e]*a+this.values[n]*(1-a)}getClosestValue(t){const e=this.findClosestValueIndex(this.keys,t);return this.values[e]}}class De extends Se{constructor(t,e,n){super(),(0,Me.Z)(this,"keys0",void 0),(0,Me.Z)(this,"keys1",void 0),(0,Me.Z)(this,"values",void 0),this.checkNotRagged2D(n),this.keys0=t,this.keys1=e,this.values=n}getValueBilinearInterpolation(t,e){const[n,a,o]=this.findIndicesAndFactorForInterpolation(this.keys0,t),[l,i,s]=this.findIndicesAndFactorForInterpolation(this.keys1,e),r=this.values[n][l],u=this.values[n][i],d=this.values[a][l],c=this.values[a][i],p=r*o+d*(1-o),m=u*o+c*(1-o);return p*s+m*(1-s)}getClosestValue(t,e){const n=this.findClosestValueIndex(this.keys0,t),a=this.findClosestValueIndex(this.keys1,e);return this.values[n][a]}}class Te extends Se{constructor(t,e,n,a){super(),(0,Me.Z)(this,"keys0",void 0),(0,Me.Z)(this,"keys1",void 0),(0,Me.Z)(this,"keys2",void 0),(0,Me.Z)(this,"values",void 0),this.keys0=t,this.keys1=e,this.keys2=n,this.values=a}getValueTrilinearInterpolation(t,e,n){const[a,o,l]=this.findIndicesAndFactorForInterpolation(this.keys0,t),[i,s,r]=this.findIndicesAndFactorForInterpolation(this.keys1,e),[u,d,c]=this.findIndicesAndFactorForInterpolation(this.keys2,n),p=this.values[a][i][u],m=this.values[a][s][u],h=this.values[o][i][u],b=this.values[o][s][u],f=this.values[a][i][d],w=this.values[a][s][d],g=this.values[o][i][d],_=this.values[o][s][d],v=p*l+h*(1-l),y=m*l+b*(1-l),k=f*l+g*(1-l),C=w*l+_*(1-l),V=v*r+y*(1-r),I=k*r+C*(1-r);return V*c+I*(1-c)}getClosestValue(t,e,n){const a=this.findClosestValueIndex(this.keys0,t),o=this.findClosestValueIndex(this.keys1,e),l=this.findClosestValueIndex(this.keys2,n);return this.values[a][o][l]}}const ze=new xe([[25,10],[50,2],[75,0],[100,0],[125,0],[150,2],[175,3],[200,4],[225,6],[250,8],[275,10],[300,11],[325,13],[350,15],[375,17],[400,20],[425,22],[450,25],[475,27],[500,29],[525,32],[550,34],[575,37],[600,39],[625,42],[650,45],[675,48],[700,51],[725,54],[750,57],[775,60],[800,63],[825,67],[850,70],[875,74],[900,77],[925,81],[950,85],[975,88],[1e3,92],[1025,96],[1050,101],[1075,105],[1100,109],[1125,114],[1150,119],[1175,124],[1200,128],[1225,133],[1250,139],[1275,144]]),Ee=new xe([[200,0],[300,2],[400,1],[500,2],[600,2],[700,2],[800,4],[900,4],[1e3,5],[1100,6],[1200,6]]),Ue=new De([300,400,500,600,700,800,900,1e3,1100,1200],[950,900,850,800,750],[[0,0,0,0,0],[0,0,0,0,0],[-1,-2,-3,-4,-5],[-1,-2,-3,-5,-6],[-2,-3,-5,-6,-7],[-2,-4,-6,-8,-9],[-3,-6,-9,-11,-14],[-4,-8,-11,-15,-18],[-5,-9,-13,-17,-20],[-6,-10,-14,-19,-23]]),Ze=new De([300,400,500,600,700,800,900,1e3,1100,1200],[45,35,25,15,5,-5,-15,-25],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[-2,-1,-1,0,1,1,2,2],[-2,-1,-1,0,1,1,2,3],[-3,-2,-2,0,2,2,3,3],[-3,-3,-2,0,2,2,3,4],[-4,-3,-2,0,2,3,4,5],[-5,-4,-3,0,3,4,5,7],[-7,-5,-4,0,3,6,8,11],[-9,-6,-5,0,4,8,10,15]]),Ge=new xe([[300,0],[400,0],[500,-1],[600,-1],[700,-2],[800,-2],[900,-3],[1e3,-3],[1100,-4],[1200,-4]]),Le=new Te([300,400,500,600,700,800,900,1e3,1100,1200],[0,1,2,3],[0,2,4,6,8,10],[[[0,0,0,0,0,0],[0,1,2,3,4,5],[0,2,4,6,7,9],[0,2,4,6,9,11]],[[0,0,0,0,0,0],[0,1,3,4,6,7],[0,3,5,8,10,13],[0,3,6,9,12,15]],[[0,0,0,0,0,0],[0,2,4,6,8,10],[0,3,7,10,13,17],[0,4,8,12,15,19]],[[0,0,0,0,0,0],[0,2,5,7,9,12],[0,4,8,12,16,20],[0,5,9,14,19,23]],[[0,0,0,0,0,0],[0,3,6,8,11,14],[0,5,10,15,19,24],[0,6,11,17,23,28]],[[0,0,0,0,0,0],[0,3,7,10,14,17],[0,6,12,17,23,29],[0,7,14,20,27,34]],[[0,0,0,0,0,0],[0,4,8,12,16,20],[0,7,14,20,27,34],[0,8,16,24,32,39]],[[0,0,0,0,0,0],[0,5,9,14,18,23],[0,8,16,23,31,39],[0,9,18,27,36,45]],[[0,0,0,0,0,0],[0,5,10,15,21,26],[0,9,18,26,35,44],[0,10,21,31,41,51]],[[0,0,0,0,0,0],[0,6,12,17,23,29],[0,10,20,30,40,50],[0,12,23,35,46,58]]]);new xe([[300,.35],[400,.5],[500,.65],[600,.85],[700,1],[800,1.2],[900,1.4],[1e3,1.6],[1100,1.85],[1200,2.1]]);class Ne{constructor(){(0,Me.Z)(this,"distance",void 0),(0,Me.Z)(this,"windSpeed",void 0),(0,Me.Z)(this,"windClock",void 0),(0,Me.Z)(this,"airPressure",void 0),(0,Me.Z)(this,"temperature",void 0),(0,Me.Z)(this,"oldBarrel",void 0),this.distance=100,this.windSpeed=0,this.windClock=0,this.airPressure=950,this.temperature=25,this.oldBarrel=!1}loadFromLocalStorage(t="ballistics"){this.distance=parseInt(localStorage.getItem(`${t}_distance`)||"")||100,this.windSpeed=parseInt(localStorage.getItem(`${t}_windSpeed`)||"")||0,this.windClock=parseInt(localStorage.getItem(`${t}_windClock`)||"")||0,this.airPressure=parseInt(localStorage.getItem(`${t}_airPressure`)||"")||950,this.temperature=parseInt(localStorage.getItem(`${t}_temperature`)||"")||25,this.oldBarrel="true"===localStorage.getItem(`${t}_oldBarrel`)}saveToLocalStorage(t="ballistics"){localStorage.setItem(`${t}_distance`,this.distance.toString()),localStorage.setItem(`${t}_windSpeed`,this.windSpeed.toString()),localStorage.setItem(`${t}_windClock`,this.windClock.toString()),localStorage.setItem(`${t}_airPressure`,this.airPressure.toString()),localStorage.setItem(`${t}_temperature`,this.temperature.toString()),localStorage.setItem(`${t}_oldBarrel`,this.oldBarrel.toString())}get baseElevation(){return ze.getValueLinearInterpolation(this.distance)}get oldBarrelElevationCorrection(){return this.oldBarrel?Ee.getValueLinearInterpolation(this.distance):0}get airPressureElevationCorrection(){return Ue.getValueBilinearInterpolation(this.distance,this.airPressure)}get temperatureElevationCorrection(){return Ze.getValueBilinearInterpolation(this.distance,this.temperature)}get totalElevation(){return this.baseElevation+this.oldBarrelElevationCorrection+this.airPressureElevationCorrection+this.temperatureElevationCorrection}get windClock0to3(){return this.windClock<=3?this.windClock:this.windClock<=6?6-this.windClock:this.windClock<=9?this.windClock-6:12-this.windClock}get baseWindage(){return Le.getValueTrilinearInterpolation(this.distance,this.windClock0to3,this.windSpeed)}get derivationWindageCorrection(){return Ge.getValueLinearInterpolation(this.distance)}get totalWindage(){return this.baseWindage+this.derivationWindageCorrection}}function Be(t){const e=Math.round(t);return(e<0?"":"+")+e}function Oe(t){let e="";return t<0?e="neg":t>0&&(e="pos"),e+Math.round(Math.abs(t))}function We(t){return t<0?"windage-negative":t>0?"windage-positive":""}const Ae={id:"wrapper",class:"btn-outline-primary"},Fe={for:"clock-1"},$e={for:"clock-2"},je={for:"clock-3"},He={for:"clock-4"},Re={for:"clock-5"},Ye={for:"clock-6"},Ke={for:"clock-7"},qe={for:"clock-8"},Xe={for:"clock-9"},Je={for:"clock-10"},Qe={for:"clock-11"},tn={for:"clock-12"};function en(t,e,n,i,s,r){return(0,o.wg)(),(0,o.iD)("div",Ae,[(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-1",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=t=>s.internalValue=t),value:1},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",Fe,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[1]||(e[1]=t=>r.setVal(1))},"1")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-2",autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=t=>s.internalValue=t),value:2},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",$e,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[3]||(e[3]=t=>r.setVal(2))},"2")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-3",autocomplete:"off","onUpdate:modelValue":e[4]||(e[4]=t=>s.internalValue=t),value:3},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",je,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[5]||(e[5]=t=>r.setVal(3))},"3")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-4",autocomplete:"off","onUpdate:modelValue":e[6]||(e[6]=t=>s.internalValue=t),value:4},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",He,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[7]||(e[7]=t=>r.setVal(4))},"4")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-5",autocomplete:"off","onUpdate:modelValue":e[8]||(e[8]=t=>s.internalValue=t),value:5},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",Re,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[9]||(e[9]=t=>r.setVal(5))},"5")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-6",autocomplete:"off","onUpdate:modelValue":e[10]||(e[10]=t=>s.internalValue=t),value:6},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",Ye,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[11]||(e[11]=t=>r.setVal(6))},"6")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-7",autocomplete:"off","onUpdate:modelValue":e[12]||(e[12]=t=>s.internalValue=t),value:7},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",Ke,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[13]||(e[13]=t=>r.setVal(7))},"7")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-8",autocomplete:"off","onUpdate:modelValue":e[14]||(e[14]=t=>s.internalValue=t),value:8},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",qe,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[15]||(e[15]=t=>r.setVal(8))},"8")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-9",autocomplete:"off","onUpdate:modelValue":e[16]||(e[16]=t=>s.internalValue=t),value:9},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",Xe,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[17]||(e[17]=t=>r.setVal(9))},"9")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-10",autocomplete:"off","onUpdate:modelValue":e[18]||(e[18]=t=>s.internalValue=t),value:10},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",Je,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[19]||(e[19]=t=>r.setVal(10))},"10")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-11",autocomplete:"off","onUpdate:modelValue":e[20]||(e[20]=t=>s.internalValue=t),value:11},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",Qe,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[21]||(e[21]=t=>r.setVal(11))},"11")])]),(0,o.wy)((0,o._)("input",{type:"radio",name:"clock-radio",id:"clock-12",autocomplete:"off","onUpdate:modelValue":e[22]||(e[22]=t=>s.internalValue=t),value:12},null,512),[[a.G2,s.internalValue]]),(0,o._)("label",tn,[(0,o._)("span",null,[(0,o._)("span",{onClick:e[23]||(e[23]=t=>r.setVal(12))},"12")])]),(0,o._)("div",{id:"highlight-bg",style:(0,l.j5)(r.cssVars)},null,4)])}const nn={name:"ClockRadioGroup",props:["modelValue"],emits:["update:modelValue"],data(){return{internalValue:this.modelValue}},watch:{internalValue(){this.$emit("update:modelValue",this.internalValue)}},methods:{setVal(t){this.internalValue=t}},computed:{cssVars(){return{"--angle":30*this.internalValue-45}}}},an=()=>{(0,a.sj)((t=>({"684b9a4a":t.internalValue})))},on=nn.setup;nn.setup=on?(t,e)=>(an(),on(t,e)):an;var ln=nn;const sn=(0,Q.Z)(ln,[["render",en],["__scopeId","data-v-b71a01d2"]]);var rn=sn;const un=t=>((0,o.dD)("data-v-00aa3f70"),t=t(),(0,o.Cn)(),t),dn={class:"modal",tabindex:"-1",role:"dialog",id:"pointEditModal"},cn={class:"modal-dialog",role:"document"},pn={class:"modal-content"},mn=un((()=>(0,o._)("div",{class:"modal-header"},[(0,o._)("h5",{class:"modal-title"},"Klicktabelle generieren"),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},[(0,o._)("span",{"aria-hidden":"true",hidden:""},"×")])],-1))),hn={class:"modal-body"},bn=un((()=>(0,o._)("h5",null,"Distanz",-1))),fn={class:"mb-3 row"},wn={class:"col-4"},gn=un((()=>(0,o._)("label",{for:"input-distance-min",class:"form-label"},"von",-1))),_n={class:"col-4"},vn=un((()=>(0,o._)("label",{for:"input-distance-min",class:"form-label"},"inkrement",-1))),yn={class:"col-4"},kn=un((()=>(0,o._)("label",{for:"input-distance-min",class:"form-label"},"bis",-1))),Cn=un((()=>(0,o._)("h5",null,"Umwelt",-1))),Vn={class:"mb-3 row"},In={class:"col-6"},Pn=un((()=>(0,o._)("label",{for:"input-air-pressure",class:"form-label"},"Luftdruck",-1))),Mn={class:"col-6"},Sn=un((()=>(0,o._)("label",{for:"input-temperature",class:"form-label"},"Temperatur",-1))),xn=un((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Distanz"),(0,o._)("th",null,"Höhe"),(0,o._)("th",null,"Seite")])],-1))),Dn={class:"modal-footer"};function Tn(t,e,n,i,s,r){return(0,o.wg)(),(0,o.iD)("div",dn,[(0,o._)("div",cn,[(0,o._)("div",pn,[mn,(0,o._)("div",hn,[(0,o._)("form",null,[bn,(0,o._)("div",fn,[(0,o._)("div",wn,[gn,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"input-distance-min","onUpdate:modelValue":e[0]||(e[0]=t=>s.distanceMin=t),min:"100",max:"1200"},null,512),[[a.nr,s.distanceMin]])]),(0,o._)("div",_n,[vn,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"input-distance-step","onUpdate:modelValue":e[1]||(e[1]=t=>s.distanceStep=t),min:"1",max:"1200"},null,512),[[a.nr,s.distanceStep]])]),(0,o._)("div",yn,[kn,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"input-distance-max","onUpdate:modelValue":e[2]||(e[2]=t=>s.distanceMax=t),min:"100",max:"1200"},null,512),[[a.nr,s.distanceMax]])])]),Cn,(0,o._)("div",Vn,[(0,o._)("div",In,[Pn,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"input-air-pressure","onUpdate:modelValue":e[3]||(e[3]=t=>s.airPressure=t)},null,512),[[a.nr,s.airPressure]])]),(0,o._)("div",Mn,[Sn,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"input-temperature","onUpdate:modelValue":e[4]||(e[4]=t=>s.temperature=t)},null,512),[[a.nr,s.temperature]])])])]),(0,o._)("table",null,[xn,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.tableData,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:`row${t}`},[(0,o._)("td",null,(0,l.zw)(t.distance),1),(0,o._)("td",null,(0,l.zw)(t.elevation),1),(0,o._)("td",{class:(0,l.C_)(t.windageClass)},(0,l.zw)(t.windage),3)])))),128))])])]),(0,o._)("div",Dn,[(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=t=>r.closeModal())},"Schliessen")])])])])}n(7658);var zn={name:"ClickTable",data(){return{modal:null,distanceMin:100,distanceMax:1200,distanceStep:50,tableData:[],airPressure:950,temperature:25}},methods:{openModal(){this.modal=new H.u_(document.getElementById("pointEditModal")),this.modal.show()},closeModal(){this.modal.hide(),this.modal=null},updateTable(){if(this.tableData=[],0===this.distanceStep||this.distanceMin<this.distanceMax&&this.distanceStep<0||this.distanceMin>this.distanceMax&&this.distanceStep>0)return;const t=new Ne;t.airPressure=this.airPressure,t.temperature=this.temperature;for(let e=this.distanceMin;e<=this.distanceMax;e+=this.distanceStep)t.distance=e,this.tableData.push({distance:`${e}m`,elevation:Be(t.totalElevation),windage:Oe(t.totalWindage),windageClass:We(t.totalWindage)})}},computed:{allInputs(){return[this.distanceMin,this.distanceStep,this.distanceMax,this.airPressure,this.temperature]}},watch:{allInputs(){this.updateTable()}},mounted(){this.updateTable()}};const En=(0,Q.Z)(zn,[["render",Tn],["__scopeId","data-v-00aa3f70"]]);var Un=En,Zn={name:"BallisticsCalculator",components:{ClockRadioGroup:rn,ClickTable:Un},data(){const t=(0,Y.qj)(new Ne);return t.loadFromLocalStorage(),{situation:t}},watch:{situation:{deep:!0,handler(){this.situation.saveToLocalStorage()}}},methods:{formatElevationClicks:Be,formatWindageClicks:Oe,windageCssClass:We}};const Gn=(0,Q.Z)(Zn,[["render",Pe],["__scopeId","data-v-4c943e2d"]]);var Ln=Gn;const Nn={ref:"map_root",id:"map-root"},Bn={id:"map-controls"},On={class:"btn-group-vertical",role:"group"},Wn={class:"btn-group dropstart",role:"group"},An={id:"map-type-drop",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Fn={class:"dropdown-menu","aria-labelledby":"map-type-drop"},$n=["onClick"];function jn(t,e,n,a,i,s){const r=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Nn,null,512),(0,o._)("div",Bn,[(0,o._)("div",On,[(0,o._)("div",Wn,[(0,o._)("button",An,[(0,o.Wm)(r,{icon:"fa-solid fa-layer-group"})]),(0,o._)("ul",Fn,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.mapLayerNames,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.id},[(0,o._)("button",{class:(0,l.C_)(["dropdown-item",{active:i.activeMapLayer===t.id}]),onClick:e=>s.setActiveMapLayer(t.id)},(0,l.zw)(t.displayName),11,$n)])))),128))])])])])],64)}var Hn=n(7793),Rn=n(1095),Yn=n(8039),Kn=n(1739),qn=n(4609),Xn=n(1631),Jn=n(225),Qn=n(9688),ta=n(7053),ea=n(5495),na=n(5459),aa=n(825),oa=n(2283),la=n(5315),ia=n(1508),sa=n(2949),ra=n(2205),ua=n(6241),da=n(7712),ca=n(9966),pa=n(7983);const ma="https://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{z}/{x}/{y}.jpeg",ha="https://wmts.geo.admin.ch/1.0.0/ch.swisstopo.swissimage/default/current/3857/{z}/{x}/{y}.jpeg",ba="https://vectortiles.geo.admin.ch/styles/ch.swisstopo.leichte-basiskarte.vt/style.json",fa="https://vectortiles.geo.admin.ch/tiles/ch.swisstopo.leichte-basiskarte.vt/v2.0.0/{z}/{x}/{y}.pbf";var wa={name:"MapView",components:{},props:{},data(){let t="pixel";return{mapLayers:{},activeMapLayer:t,map:null,mapLayerNames:[{id:"osm",displayName:"OpenStreetMap"},{id:"pixel",displayName:"SwissTopo Pixel"},{id:"vector",displayName:"SwissTopo Vektor"},{id:"satellite",displayName:"SwissTopo Satellit"}]}},async mounted(){let t=new qn.Z({declutter:!0,source:new Xn.Z({format:new ta.Z,url:fa,projection:"EPSG:3857"}),style:ba});await(0,ea.bg)(t,ba),this.mapLayers.vector=new oa.Z({layers:[t]}),await(0,ea.nn)(this.mapLayers.vector,ba),this.mapLayers.osm=new Yn.Z({source:new Kn.Z}),this.mapLayers.pixel=new Yn.Z({source:new Jn.Z({url:ma})}),this.mapLayers.satellite=new oa.Z({layers:[new Yn.Z({source:new Jn.Z({url:ha})})]});let e=new Qn.Z({features:[]});const n=()=>{e.clear(),Object.keys(K).map((t=>K[t])).forEach((t=>{const[n,a,o]=W(t.coordinates.x,t.coordinates.y,t.coordinates.z);e.addFeature(new ia.Z({name:t.description,geometry:new sa.Z((0,na.vs)([a,n],"EPSG:4326","EPSG:3857"))}))}))};n(),(0,o.YP)(K,n);const a=t=>[new ra.ZP({image:new ua.Z({radius:10,fill:new da.Z({color:"#ff8400"})}),text:new pa.Z({font:"1.5rem Avenir,sans-serif",fill:new da.Z({color:"#ff8400"}),stroke:new ca.Z({color:"#fff",width:4}),offsetY:-18,text:t.get("name")})})];let l=new la.Z({source:e,style:a});l.setZIndex(100),this.map=new Rn.Z({target:this.$refs.map_root,layers:[this.mapLayers[this.activeMapLayer],l],view:new Hn.ZP({zoom:12,center:(0,na.vs)([9,47],"EPSG:4326","EPSG:3857"),constrainResolution:!0,projection:"EPSG:3857",showFullExtent:!0,maxZoom:18,maxResolution:78271.51696402048}),controls:(0,aa.c)({attribution:!1,zoom:!1,rotate:!1})}),navigator.geolocation.getCurrentPosition((t=>{let e=[t.coords.longitude,t.coords.latitude];this.map.getView().setCenter((0,na.vs)(e,"EPSG:4326","EPSG:3857")),console.log("got initial map center from GPS ",e)}),(t=>{console.log("didn't get GPS position: ",t)}),{enableHighAccuracy:!0,maximumAge:1e5})},methods:{setActiveMapLayer(t){this.map.removeLayer(this.mapLayers[this.activeMapLayer]),this.map.addLayer(this.mapLayers[t]),this.activeMapLayer=t}}};const ga=(0,Q.Z)(wa,[["render",jn],["__scopeId","data-v-7adb9e1c"]]);var _a=ga,va={name:"App",components:{PointList:et,CoordinateCalculations:Wt,BallisticsCalculator:Ln,MapView:_a},data(){let t="PointList",e=[["PointList","Punkteliste"],["CoordinateCalculations","Koordinatenberechnungen"],["BallisticsCalculator","Ballistikrechner"],["MapView","Karte"]];if(window.location.hash)for(let n=0;n<e.length;n++){let a=window.location.hash.slice(1);if(e[n][0]===a){t=a;break}}return{currentTool:t,allTools:e}},mounted(){this.updateDocumentTitle(this.currentTool),document.body.setAttribute("data-bs-theme","dark")},methods:{updateDocumentTitle(t){document.title="sph_tool - "+this.getToolDisplayName(t)},changeTool(t){this.currentTool=t,history.pushState?history.pushState(null,null,"#"+t):location.hash="#"+t,this.updateDocumentTitle(t)},getToolDisplayName(t){for(let e=0;e<this.allTools.length;e++)if(t===this.allTools[e][0])return this.allTools[e][1];return null}}};const ya=(0,Q.Z)(va,[["render",s]]);var ka=ya,Ca=n(3494),Va=n(7749),Ia=n(8539);Ca.vI.add(Ia.IwR,Ia.Vui,Ia.r8p,Ia.Yif,Ia.TqS,Ia.O4,Ia.DaQ,Ia.Krp),(0,a.ri)(ka).component("font-awesome-icon",Va.GN).mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var l=e[a]={exports:{}};return t[a].call(l.exports,l,l.exports,n),l.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,l){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],l=t[d][2];for(var s=!0,r=0;r<a.length;r++)(!1&l||i>=l)&&Object.keys(n.O).every((function(t){return n.O[t](a[r])}))?a.splice(r--,1):(s=!1,l<i&&(i=l));if(s){t.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,o,l]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,l,i=a[0],s=a[1],r=a[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(r)var d=r(n)}for(e&&e(a);u<i.length;u++)l=i[u],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(d)},a=self["webpackChunksph_tool"]=self["webpackChunksph_tool"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(67)}));a=n.O(a)})();
//# sourceMappingURL=app.f964e1d8.js.map